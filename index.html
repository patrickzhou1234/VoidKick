<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Block Battle Arena</title>
    <link href="https://cdn.muicss.com/mui-0.10.3/css/mui.min.css" rel="stylesheet" type="text/css" />
    <link href="style.css" rel="stylesheet" type="text/css" />
    <script src="/socket.io/socket.io.js"></script>
    <script src="babylon.js"></script>
    <script src="babylonjs.loaders.min.js"></script>
    <script src="ammo.js"></script>
  </head>
  <body>
    <div id="menuselections" class="mui-panel">
      <div class="mui-form--inline">
        <div class="menu-item">
          <input name="colorpicker" id="colorpicker" type="color" value="#FF0000">
          <label for="colorpicker">Color</label>
        </div>
        
        <div class="menu-item">
          <div class="mui-checkbox">
            <label>
              <input id="frontfacingvis" type="checkbox" name="frontfacingvis" checked>
              Show Spawn
            </label>
          </div>
        </div>
        
        <div class="menu-item">
          <div class="mui-select">
            <select id="meshtype" name="meshtype">
              <option value="box">Box</option>
              <option value="sphere">Sphere</option>
              <option value="cylinder">Cylinder</option>
              <option value="capsule">Capsule</option>
            </select>
            <label>Mesh Type</label>
          </div>
        </div>
        
        <div class="menu-item">
          <div class="mui-checkbox">
            <label>
              <input id="slimyToggle" type="checkbox" name="slimyToggle">
              Slimy
            </label>
          </div>
        </div>
        
        <div class="menu-item slider-item">
          <label for="sizeToggle">Size</label>
          <input id="sizeToggle" type="range" min="0" max="100" value="50">
        </div>
        
        <div class="menu-item">
          <button id="clearBtn" class="mui-btn mui-btn--danger mui-btn--small">Clear All</button>
        </div>
        
        <div class="menu-item">
          <a href="/admin.html" target="_blank" class="mui-btn mui-btn--primary mui-btn--small">Admin</a>
        </div>
      </div>
    </div>
    <button id="menureveal" class="mui-btn mui-btn--accent">â‡§</button>
    <div id="usernameOverlay" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:2000; display:flex; justify-content:center; align-items:center; flex-direction:column;">
      <div style="color:white; font-size:40px; margin-bottom:20px;">Enter Username</div>
      <input type="text" id="usernameInput" style="font-size:20px; padding:10px; margin-bottom:20px; width:300px;" placeholder="Username" maxlength="15">
      <button id="startGameBtn" class="mui-btn mui-btn--primary mui-btn--large">Start Game</button>
    </div>
    <div id="killFeed" style="position:fixed; top:20px; right:20px; text-align:right; z-index:1500; pointer-events:none;"></div>
    
    <div id="killAnimation" style="display:none; position:fixed; top:150px; left:50%; transform:translateX(-50%); font-size:40px; color:#ff3333; font-weight:bold; text-shadow:2px 2px 4px black; z-index:1500; animation: popIn 0.5s ease-out;">
        KILLED <span id="killedName">PLAYER</span>
    </div>

    <div id="deathOverlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(139,0,0,0.7); z-index:1000; justify-content:center; align-items:center; flex-direction:column;">
      <div style="color:white; font-size:80px; font-weight:bold; text-shadow: 4px 4px 8px black;">YOU DIED!</div>
      <div id="causeOfDeath" style="color:#ffcccc; font-size:24px; margin-top:10px;"></div>
      <div id="killerInfo" style="color:white; font-size:30px; margin-top:10px;"></div>
      <div id="respawnTimer" style="color:white; font-size:30px; margin-top:20px;">Respawning in 5...</div>
    </div>
    <!-- Ultimate charge bar -->
    <div id="ultimateContainer" style="display:none; position:fixed; bottom:50px; left:50%; transform:translateX(-50%); z-index:500; text-align:center;">
      <div style="color:white; font-size:18px; font-weight:bold; text-shadow: 2px 2px 4px black; margin-bottom:5px;">CHARGING ULTIMATE...</div>
      <div style="width:300px; height:20px; background:rgba(0,0,0,0.7); border:2px solid #fff; border-radius:10px; overflow:hidden;">
        <div id="ultimateBar" style="width:0%; height:100%; background:linear-gradient(90deg, #ff6600, #ffcc00, #ff0000); transition:width 0.1s;"></div>
      </div>
    </div>
    <canvas id="babcanv"></canvas>
    <script src="https://cdn.muicss.com/mui-0.10.3/js/mui.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
